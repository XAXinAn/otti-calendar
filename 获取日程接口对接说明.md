# 后端接口对接说明：获取日程列表

为了实现在日历主页下方实时显示所选日期的日程列表，后端需要实现以下 `GET` 接口。

## 1. 接口概览

*   **接口地址**: `/api/schedules`
*   **请求方法**: `GET`
*   **认证要求**: 必须在 Header 中携带 JWT Token
    *   `Authorization: Bearer {your_token}`

## 2. 请求参数 (Query Parameters)

前端在切换日期或刷新页面时，会发起带有 `date` 参数的请求。

| 参数名 | 类型 | 是否必填 | 描述 | 示例 |
| :--- | :--- | :--- | :--- | :--- |
| **`date`** | String | 是 | 目标日期，格式固定为 `YYYY-MM-DD` | `2024-08-21` |

**前端实际发出的请求示例：**
`GET http://192.168.43.227:8080/api/schedules?date=2024-08-21`

---

## 3. 响应数据规约 (Response Body)

后端应返回一个 **JSON 数组**，数组中包含该日期下的所有日程对象。

### 3.1 成功响应示例 (200 OK)

```json
[
  {
    "id": "1001",
    "title": "项目周会",
    "scheduleDate": "2024-08-21",
    "startTime": "14:30",
    "endTime": "15:30",
    "location": "3楼会议室",
    "category": "工作",
    "isAllDay": false,
    "isAiGenerated": false
  },
  {
    "id": "1002",
    "title": "买牛奶",
    "scheduleDate": "2024-08-21",
    "startTime": "18:00",
    "endTime": null,
    "location": "超市",
    "category": "生活",
    "isAllDay": false,
    "isAiGenerated": true
  }
]
```

### 3.2 字段详细说明

| 字段名 | 类型 | 说明 | 备注 |
| :--- | :--- | :--- | :--- |
| **`id`** | String | 数据库主键 ID | 前端用于区分列表项 |
| **`title`** | String | 日程标题 | 必填 |
| **`scheduleDate`**| String | 日程所属日期 | 格式：`YYYY-MM-DD` |
| **`startTime`** | String | 开始时间 | 格式：`HH:mm` (24小时制) |
| **`endTime`** | String? | 结束时间 | 格式：`HH:mm` (可选，可为 null) |
| **`location`** | String? | 地点 | 可选，可为 null |
| **`category`** | String | **分类名称** | **必须是以下值之一：** 工作、学习、个人、生活、健康、运动、社交、家庭、差旅、其他 |
| **`isAllDay`** | boolean | 是否为全天日程 | 必填 |
| **`isAiGenerated`**| boolean | 是否由 AI 生成 | 必填 |

---

## 4. 后端逻辑建议

1.  **数据过滤**：后端在接收到 `GET` 请求时，应首先解析 `Authorization` 头以确定当前用户。
2.  **日期筛选**：根据查询参数 `date`，从该用户的日程表中筛选出所有 `scheduleDate` 与之匹配的记录。
3.  **排序**：建议按照 `startTime` 从早到晚进行升序排列，以便前端展示。
4.  **空数据处理**：如果该日期下没有日程，请返回一个空数组 `[]`，而不是 `null` 或报错。
